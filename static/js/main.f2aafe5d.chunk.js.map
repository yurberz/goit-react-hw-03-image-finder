{"version":3,"sources":["components/Searchbar/SearchBarStyled.js","components/Searchbar/SearchBar.js","components/Button/ButtonStyled.js","components/Button/Button.js","components/ImageGallery/ImageGalleryStyled.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItemStyled.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/LoaderStyled.js","components/Loader/Loader.js","components/Modal/ModalStyled.js","components/Modal/Modal.js","services/imagesApi.js","components/App.js","index.js"],"names":["Header","styled","header","SearchBar","state","query","handleChange","evt","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","Btn","button","Button","onLoadMore","onClick","Ul","ul","Li","li","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","src","alt","data-source","ImageGallery","images","map","id","Div","div","Loader","Modal","handleKeyDown","code","onToggleModal","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","axios","defaults","baseURL","fetchImagesWithQuery","page","get","then","res","data","hits","App","searchQuery","isLoading","showModal","fetchImages","prevState","catch","error","finally","handleSearchFormSubmit","dataset","source","toggleModal","toNextPageScroll","scrollTo","top","document","documentElement","scrollHeight","behavior","_","prevPage","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2aafe5d.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst Header = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n\n  .SearchForm {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  .SearchForm-button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n\n    &:hover {\n      opacity: 1;\n    }\n  }\n\n  .SearchForm-button-label {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n\n  .SearchForm-input {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n\n    .SearchForm-input::placeholder {\n      font: inherit;\n      font-size: 18px;\n    }\n  }\n`;\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport Header from \"./SearchBarStyled\";\n\nclass SearchBar extends Component {\n  state = { query: \"\" };\n\n  handleChange = (evt) => {\n    this.setState({ query: evt.target.value });\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n    const { query } = this.state;\n\n    this.props.onSubmit(query);\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    return (\n      <Header>\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </Header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import styled from \"styled-components\";\n\nexport const Btn = styled.button`\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n\nexport default Btn;\n","import Btn from \"./ButtonStyled\";\n\nconst Button = ({ onLoadMore }) => {\n  return <Btn onClick={onLoadMore}>Load more</Btn>;\n};\n\nexport default Button;\n","import styled from \"styled-components\";\n\nconst Ul = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 10px;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default Ul;\n","import styled from \"styled-components\";\n\nconst Li = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n\n  .ImageGalleryItem-image {\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      transform: scale(1.03);\n      cursor: zoom-in;\n    }\n  }\n`;\n\nexport default Li;\n","import Li from \"./ImageGalleryItemStyled\";\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  onOpenModal,\n}) => {\n  return (\n    <Li>\n      <img\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n        className=\"ImageGalleryItem-image\"\n        onClick={onOpenModal}\n      />\n    </Li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import Ul from \"./ImageGalleryStyled\";\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onOpenModal }) => {\n  return (\n    <Ul>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </Ul>\n  );\n};\n\nexport default ImageGallery;\n","import styled from \"styled-components\";\n\nconst Div = styled.div`\n  display: flex;\n  justify-content: center;\n\n  .text {\n    margin: 0;\n    font-size: 32px;\n    color: honeydew;\n  }\n`;\n\nexport default Div;\n","import Div from \"./LoaderStyled\";\n\nconst Loader = () => {\n  return (\n    <Div>\n      <p className=\"text\">Loading...</p>\n    </Div>\n  );\n};\n\nexport default Loader;\n","import styled from \"styled-components\";\n\nconst Div = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n\n  .Modal {\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n  }\n`;\n\nexport default Div;\n","import React, { Component } from \"react\";\nimport Div from \"./ModalStyled\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (evt) => {\n    if (evt.code === \"Escape\") {\n      this.props.onToggleModal();\n    }\n  };\n\n  handleBackdropClick = (evt) => {\n    if (evt.currentTarget === evt.target) {\n      this.props.onToggleModal();\n    }\n  };\n\n  render() {\n    const { largeImageURL } = this.props;\n\n    return (\n      <Div onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={largeImageURL} alt=\"\" />\n        </div>\n      </Div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\n\nconst apiKey = \"19945096-307dadd9492513dc28d99de19\";\n\nexport const fetchImagesWithQuery = (query, page) => {\n  return axios\n    .get(\n      `/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n    .then((res) => res.data.hits);\n};\n","import React, { Component } from \"react\";\nimport SearchBar from \"./Searchbar/SearchBar\";\nimport Button from \"./Button/Button\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Loader from \"./Loader/Loader\";\nimport Modal from \"./Modal/Modal\";\nimport { fetchImagesWithQuery } from \"../services/imagesApi\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    page: 1,\n    images: [],\n    largeImageURL: \"\",\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(_, prevState) {\n    const { page } = this.state;\n    const prevPage = prevState.page;\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n\n    if (prevPage !== page) {\n      this.toNextPageScroll();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    if (searchQuery) {\n      this.setState({ isLoading: true });\n\n      fetchImagesWithQuery(searchQuery, page)\n        .then((images) =>\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n          }))\n        )\n        .catch((error) => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }\n  };\n\n  handleSearchFormSubmit = (query) => {\n    if (query) {\n      this.setState({ searchQuery: query, page: 1, images: [] });\n    }\n  };\n\n  onOpenModal = (evt) => {\n    this.setState({ largeImageURL: evt.target.dataset.source });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  toNextPageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImageURL } = this.state;\n\n    return (\n      <>\n        <SearchBar onSubmit={this.handleSearchFormSubmit} />\n\n        <main>\n          {images.length > 0 && (\n            <ImageGallery images={images} onOpenModal={this.onOpenModal} />\n          )}\n\n          {images.length > 0 && !isLoading && (\n            <Button onLoadMore={this.fetchImages} />\n          )}\n\n          {isLoading && <Loader />}\n        </main>\n        {showModal && (\n          <Modal\n            onToggleModal={this.toggleModal}\n            largeImageURL={largeImageURL}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./base.css\";\nimport \"../node_modules/modern-normalize/modern-normalize.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}